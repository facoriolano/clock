<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Painel de Controle</title>
  <style>
    body {
      background-color: #1c1132;
      color: white;
      font-family: sans-serif;
      display: flex;
      gap: 40px;
      padding: 20px;
    }

    .painel {
      border: 1px solid #444;
      padding: 20px;
      border-radius: 10px;
      background-color: #2d1a4f;
      width: 250px;
    }

    h2 {
      margin-top: 0;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input[type="number"],
    input[type="text"],
    select {
      width: 100%;
      padding: 5px;
      margin-top: 5px;
      border-radius: 5px;
      border: none;
      font-size: 16px;
    }

    button {
      margin-top: 10px;
      padding: 5px 10px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: #7e5bef;
      color: white;
      cursor: pointer;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <!-- Painel para rel贸gio de 5 minutos -->
  <div class="painel">
    <h2>Rel贸gio de 5 Minutos</h2>
    <label>Horas: <input type="number" id="h5" min="0" value="0" /></label>
    <label>Minutos: <input type="number" id="m5" min="0" value="5" /></label>
    <label>Segundos: <input type="number" id="s5" min="0" value="0" /></label>

    <label>Fonte:
      <select id="font5">
        <option value="Orbitron">Orbitron</option>
        <option value="Arial">Arial</option>
        <option value="Courier New">Courier New</option>
      </select>
    </label>

    <label>Frase: <input type="text" id="label5" placeholder="Ex: POMODORO" /></label>
    <button onclick="enviar5()">Enviar</button>

    <div class="btn-row">
      <button onclick="start5()">Play</button>
      <button onclick="pause5()">Pause</button>
      <button onclick="reset5()">Reset</button>
    </div>
  </div>

  <!-- Painel para rel贸gio de 45 minutos -->
  <div class="painel">
    <h2>Rel贸gio de 45 Minutos</h2>
    <label>Horas: <input type="number" id="h45" min="0" value="0" /></label>
    <label>Minutos: <input type="number" id="m45" min="0" value="45" /></label>
    <label>Segundos: <input type="number" id="s45" min="0" value="0" /></label>

    <label>Fonte:
      <select id="font45">
        <option value="Orbitron">Orbitron</option>
        <option value="Arial">Arial</option>
        <option value="Courier New">Courier New</option>
      </select>
    </label>

    <label>Frase: <input type="text" id="label45" placeholder="Ex: MENSAGEM" /></label>
    <button onclick="enviar45()">Enviar</button>

    <div class="btn-row">
      <button onclick="start45()">Play</button>
      <button onclick="pause45()">Pause</button>
      <button onclick="reset45()">Reset</button>
    </div>
  </div>

  <script>
    const ch5 = new BroadcastChannel("timer-5min");
    const ch45 = new BroadcastChannel("timer-45min");

    function start5() {
      ch5.postMessage({ command: "start" });
    }

    function pause5() {
      ch5.postMessage({ command: "pause" });
    }

    function reset5() {
      const h = parseInt(document.getElementById("h5").value) || 0;
      const m = parseInt(document.getElementById("m5").value) || 0;
      const s = parseInt(document.getElementById("s5").value) || 0;
      const total = h * 3600 + m * 60 + s;
      ch5.postMessage({ command: "reset", value: total });
    }

    function enviar5() {
      const font = document.getElementById("font5").value;
      const label = document.getElementById("label5").value;
      ch5.postMessage({ command: "font", value: font });
      ch5.postMessage({ command: "label", value: label });
      reset5();
    }

    function start45() {
      ch45.postMessage({ command: "start" });
    }

    function pause45() {
      ch45.postMessage({ command: "pause" });
    }

    function reset45() {
      const h = parseInt(document.getElementById("h45").value) || 0;
      const m = parseInt(document.getElementById("m45").value) || 0;
      const s = parseInt(document.getElementById("s45").value) || 0;
      const total = h * 3600 + m * 60 + s;
      ch45.postMessage({ command: "reset", value: total });
    }

    function enviar45() {
      const font = document.getElementById("font45").value;
      const label = document.getElementById("label45").value;
      ch45.postMessage({ command: "font", value: font });
      ch45.postMessage({ command: "label", value: label });
      reset45();
    }
  </script>
</body>
</html>
