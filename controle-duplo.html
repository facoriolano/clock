<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Painel de Controle</title>
  <style>
    body {
      background-color: #1c1132;
      color: #ccc;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      gap: 40px;
      padding: 30px;
    }

    .painel {
      background: #201436;
      border-radius: 12px;
      padding: 20px;
      width: 260px;
      box-shadow: 0 0 10px #00000050;
    }

    h2 {
      margin-top: 0;
      color: white;
      font-size: 18px;
      text-align: center;
    }

    label {
      display: block;
      margin: 15px 0 5px;
      font-size: 14px;
    }

    input[type="number"],
    input[type="text"],
    select {
      width: 100%;
      padding: 8px;
      font-size: 14px;
      border-radius: 8px;
      border: none;
      background-color: #2a1b4a;
      color: #eee;
    }

    input[type="text"]::placeholder {
      color: #777;
    }

    button {
      padding: 8px 16px;
      margin-top: 12px;
      font-size: 14px;
      border: 1px solid #7e5bef;
      border-radius: 20px;
      background-color: transparent;
      color: #ccc;
      cursor: pointer;
      transition: 0.2s;
    }

    button:hover {
      background-color: #7e5bef33;
    }

    .btn-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
  </style>
</head>
<body>
  <!-- Painel de 5 Minutos -->
  <div class="painel">
    <h2>Relógio de 5 Minutos</h2>
    <label>Horas</label>
    <input type="number" id="h5" min="0" value="0" />
    <label>Minutos</label>
    <input type="number" id="m5" min="0" value="5" />
    <label>Segundos</label>
    <input type="number" id="s5" min="0" value="0" />

    <label>Fonte</label>
    <select id="font5">
      <option value="Orbitron">Orbitron</option>
      <option value="Arial">Arial</option>
      <option value="Courier New">Courier New</option>
    </select>

    <label>Frase</label>
    <input type="text" id="label5" placeholder="Ex: POMODORO" />

    <div class="btn-row">
      <button onclick="enviar5()">Enviar</button>
      <button onclick="start5()">Play</button>
      <button onclick="pause5()">Pause</button>
      <button onclick="reset5()">Reset</button>
    </div>
  </div>

  <!-- Painel de 45 Minutos -->
  <div class="painel">
    <h2>Relógio de 45 Minutos</h2>
    <label>Horas</label>
    <input type="number" id="h45" min="0" value="0" />
    <label>Minutos</label>
    <input type="number" id="m45" min="0" value="45" />
    <label>Segundos</label>
    <input type="number" id="s45" min="0" value="0" />

    <label>Fonte</label>
    <select id="font45">
      <option value="Orbitron">Orbitron</option>
      <option value="Arial">Arial</option>
      <option value="Courier New">Courier New</option>
    </select>

    <label>Frase</label>
    <input type="text" id="label45" placeholder="Ex: INTERVALO" />

    <div class="btn-row">
      <button onclick="enviar45()">Enviar</button>
      <button onclick="start45()">Play</button>
      <button onclick="pause45()">Pause</button>
      <button onclick="reset45()">Reset</button>
    </div>
  </div>

  <script>
    const ch5 = new BroadcastChannel("timer-5min");
    const ch45 = new BroadcastChannel("timer-45min");

    function start5() {
      ch5.postMessage({ command: "start" });
    }

    function pause5() {
      ch5.postMessage({ command: "pause" });
    }

    function reset5() {
      const h = parseInt(document.getElementById("h5").value) || 0;
      const m = parseInt(document.getElementById("m5").value) || 0;
      const s = parseInt(document.getElementById("s5").value) || 0;
      const total = h * 3600 + m * 60 + s;
      ch5.postMessage({ command: "reset", value: total });
    }

    function enviar5() {
      const font = document.getElementById("font5").value;
      const label = document.getElementById("label5").value;
      ch5.postMessage({ command: "font", value: font });
      ch5.postMessage({ command: "label", value: label });
      reset5();
    }

    function start45() {
      ch45.postMessage({ command: "start" });
    }

    function pause45() {
      ch45.postMessage({ command: "pause" });
    }

    function reset45() {
      const h = parseInt(document.getElementById("h45").value) || 0;
      const m = parseInt(document.getElementById("m45").value) || 0;
      const s = parseInt(document.getElementById("s45").value) || 0;
      const total = h * 3600 + m * 60 + s;
      ch45.postMessage({ command: "reset", value: total });
    }

    function enviar45() {
      const font = document.getElementById("font45").value;
      const label = document.getElementById("label45").value;
      ch45.postMessage({ command: "font", value: font });
      ch45.postMessage({ command: "label", value: label });
      reset45();
    }
  </script>
</body>
</html>
